from sklearn.decomposition import PCA
import matplotlib.pyplot as plt
import numpy as np

np.random.seed(123)
data1 = np.random.random(50)
data2 = 2*data1 + 0.3*np.random.random(50)
fig, ax = plt.subplots()
ax.scatter(data1, data2)
plt.show()

print(end='\n')
print('******分析の実行******')
pca = PCA(n_components=2)
data_pca = pca.fit_transform(
    np.hstack((data1[:, np.newaxis], data2[:, np.newaxis])))
print(data_pca)
"""
実行結果
[[ 3.33545268e-01  4.80346700e-02]
 [-3.95439719e-01 -4.00946670e-02]
 [-5.87646777e-01 -8.40870569e-03]
 [ 1.22355594e-01 -7.01293201e-03]
 [ 4.44306979e-01  1.72348326e-02]
 [-2.28674920e-01  2.84716289e-02]
 [ 1.04839246e+00  1.83912546e-03]
 [ 4.57281315e-01 -2.83031768e-02]
 [ 5.32315162e-02 -5.07194102e-02]
 [-2.42860121e-01  9.19819003e-04]
 [-3.09846124e-01 -1.97961670e-02]
 [ 5.30683359e-01 -1.61683069e-02]
 [-1.08409236e-01 -1.56491692e-02]
 [-9.42310239e-01 -1.48296595e-02]
 [-1.40948617e-01 -4.45302190e-02]
 [ 4.16398024e-01  5.23120390e-02]
 [-6.43930056e-01 -2.94532239e-02]
 [-7.98573310e-01  4.17078231e-02]
 [-1.55494257e-02  4.12999436e-02]
 [ 8.60985773e-02 -1.03616372e-02]
 [ 1.88106732e-01  5.26855757e-02]
 [ 8.79825388e-01 -5.94771607e-02]
 [ 5.31445418e-01 -2.17180269e-02]
 [ 3.03501776e-01 -3.25708765e-02]
 [ 3.63710053e-01  6.17840408e-02]
 [-3.75057350e-01 -9.16285932e-03]
 [-2.98290757e-01 -4.80217849e-03]
 [-7.03114123e-01  5.22144254e-02]
 [-5.58340618e-01  5.17026292e-02]
 [ 3.40666497e-01 -2.91635341e-02]
 [-9.64874884e-01  3.31272246e-02]
 [-1.01386577e-01 -2.47106419e-02]
 [-1.44484187e-01 -5.86308252e-03]
 [-4.82037155e-02  1.54670941e-02]
 [-5.67055467e-02 -5.63957110e-02]
 [-3.32937169e-01 -4.27134586e-02]
 [-2.07188711e-01  2.11302861e-02]
 [ 7.53276449e-01  5.45961007e-02]
 [ 9.36562043e-01  1.79058904e-02]
 [-2.75101722e-02  1.40419287e-02]
 [ 3.27481511e-01 -3.03100872e-02]
 [-7.31574262e-01 -5.97488515e-02]
 [-4.51453494e-01  2.35258751e-02]
 [-1.24738546e-01 -3.39699899e-02]
 [ 8.39526391e-01 -1.99171463e-02]
 [-5.11191809e-01 -2.09892686e-02]
 [-1.35543871e-01  4.81611480e-02]
 [ 1.05426832e+00  4.22091317e-03]
 [-3.00731377e-02  3.51738363e-02]
 [ 2.06193802e-01  1.92832979e-02]]
"""

print(end='\n')
print('******分析結果の可視化******')
fig, ax = plt.subplots()
ax.scatter(data_pca[:, 0], data_pca[:, 1])
ax.set_xlabel('pc1')
ax.set_ylabel('pc2')
plt.show()

print(end='\n')
fig, ax = plt.subplots()
ax.scatter(data_pca[:, 0], data_pca[:, 1])
ax.set_xlabel('pc1')
ax.set_ylabel('pc2')
ax.set_xlim(-1.1, 1.1)
ax.set_ylim(-1.1, 1.1)
plt.show()
